import{a as y,_ as o}from"./chunks/index.Dd8E0tiC.js";import{_ as c,g as F,C as e,c as E,o as r,j as s,G as k,a as n,t as C,w as d,ah as m,ak as u,d as B,ag as f}from"./chunks/framework.CYp0bhgW.js";const D={components:{QrcodeStream:y},data(){return{paused:!1,result:"",showScanConfirmation:!1}},methods:{onCameraOn(){this.showScanConfirmation=!1},onCameraOff(){this.showScanConfirmation=!0},onError:console.error,async onDetect(h){this.result=JSON.stringify(h.map(a=>a.rawValue)),this.paused=!0,await this.timeout(500),this.paused=!1},timeout(h){return new Promise(a=>{window.setTimeout(a,h)})},withBase:F}},w={class:"decode-result"},A={class:"scan-confirmation"},_=["src"];function S(h,a,i,p,l,t){const g=e("qrcode-stream");return r(),E("div",null,[s("p",w,[a[0]||(a[0]=n(" Last result: ",-1)),s("b",null,C(l.result),1)]),k(g,{paused:l.paused,onDetect:t.onDetect,onCameraOn:t.onCameraOn,onCameraOff:t.onCameraOff,onError:t.onError},{default:d(()=>[m(s("div",A,[s("img",{src:t.withBase("/checkmark.svg"),alt:"Checkmark",width:"128"},null,8,_)],512),[[u,l.showScanConfirmation]])]),_:1},8,["paused","onDetect","onCameraOn","onCameraOff","onError"])])}const q=c(D,[["render",S],["__scopeId","data-v-2c48d920"]]),b=JSON.parse('{"title":"Scan Same QR Code More Than Once","description":"","frontmatter":{},"headers":[],"relativePath":"demos/ScanSameQrcodeMoreThanOnce.md","filePath":"demos/ScanSameQrcodeMoreThanOnce.md","lastUpdated":1766175340000}'),v={name:"demos/ScanSameQrcodeMoreThanOnce.md"},Q=B({...v,setup(h){return(a,i)=>{const p=e("ClientOnly");return r(),E("div",null,[i[0]||(i[0]=s("h1",{id:"scan-same-qr-code-more-than-once",tabindex:"-1"},[n("Scan Same QR Code More Than Once "),s("a",{class:"header-anchor",href:"#scan-same-qr-code-more-than-once","aria-label":'Permalink to "Scan Same QR Code More Than Once"'},"â€‹")],-1)),i[1]||(i[1]=s("p",null,[n("You might have noticed that scanning the same QR code again doesn't work. The thing is when a QR code is in the view of your the camera it's decoded multiple times a second. You don't want to be flooded with "),s("code",null,"detect"),n(` events that often though. That's why the last decoded QR code is "cached" and an event is only emitted, when the decoded content changes.`)],-1)),i[2]||(i[2]=s("p",null,[n("However this cache is reset when you change the "),s("code",null,"paused"),n(" prop. We can exploit that to scan same QR codes multiple times in a row.")],-1)),k(p,null,{default:d(()=>[k(o,{component:q})]),_:1}),i[3]||(i[3]=f("",2))])}}});export{b as __pageData,Q as default};
