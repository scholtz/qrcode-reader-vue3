import{a as V,_ as I}from"./chunks/index.Dd8E0tiC.js";import{d as x,p as r,h as M,c as k,o as t,j as l,a as o,ah as u,aj as b,F as B,B as D,t as F,ai as R,G as f,k as $,_ as U,C as j,ag as H,w as Y}from"./chunks/framework.CYp0bhgW.js";const z=["value"],Q=["value"],W=["onUpdate:modelValue","id"],X=["for"],J={class:"error"},L={class:"decode-result"},G=x({__name:"FullDemo",setup(_){const c=r("");function p(a){console.log(a),c.value=JSON.stringify(a.map(s=>s.rawValue))}const d=r({facingMode:"environment"}),A=[{label:"rear camera",constraints:{facingMode:"environment"}},{label:"front camera",constraints:{facingMode:"user"}}],m=r(A);async function q(){const s=(await navigator.mediaDevices.enumerateDevices()).filter(({kind:i})=>i==="videoinput");m.value=[...A,...s.map(({deviceId:i,label:n})=>({label:`${n} (ID: ${i})`,constraints:{deviceId:i}}))],h.value=""}function S(a,s){for(const i of a){const[n,...y]=i.cornerPoints;s.strokeStyle="red",s.beginPath(),s.moveTo(n.x,n.y);for(const{x:e,y:E}of y)s.lineTo(e,E);s.lineTo(n.x,n.y),s.closePath(),s.stroke()}}function w(a,s){for(const i of a){const{boundingBox:{x:n,y,width:e,height:E}}=i;s.lineWidth=2,s.strokeStyle="#007bff",s.strokeRect(n,y,e,E)}}function T(a,s){for(const i of a){const{boundingBox:n,rawValue:y}=i,e=n.x+n.width/2,E=n.y+n.height/2,N=Math.max(12,50*n.width/s.canvas.width);s.font=`bold ${N}px sans-serif`,s.textAlign="center",s.lineWidth=3,s.strokeStyle="#35495e",s.strokeText(i.rawValue,e,E),s.fillStyle="#5cb984",s.fillText(y,e,E)}}const v=[{text:"nothing (default)",value:void 0},{text:"outline",value:S},{text:"centered text",value:T},{text:"bounding box",value:w}],C=r(v[1]),g=r({aztec:!1,code_128:!1,code_39:!1,code_93:!1,codabar:!1,databar:!1,databar_expanded:!1,data_matrix:!1,dx_film_edge:!1,ean_13:!1,ean_8:!1,itf:!1,maxi_code:!1,micro_qr_code:!1,pdf417:!1,qr_code:!0,rm_qr_code:!1,upc_a:!1,upc_e:!1,linear_codes:!1,matrix_codes:!1}),O=M(()=>Object.keys(g.value).filter(a=>g.value[a])),h=r("");function P(a){h.value=`[${a.name}]: `,a.name==="NotAllowedError"?h.value+="you need to grant camera access permission":a.name==="NotFoundError"?h.value+="no camera on this device":a.name==="NotSupportedError"?h.value+="secure context required (HTTPS, localhost)":a.name==="NotReadableError"?h.value+="is the camera already in use?":a.name==="OverconstrainedError"?h.value+="installed cameras are not suitable":a.name==="StreamApiNotSupportedError"?h.value+="Stream API is not supported in this browser":a.name==="InsecureContextError"?h.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":h.value+=a.message}return(a,s)=>(t(),k("div",null,[l("p",null,[s[2]||(s[2]=o(" Modern mobile phones often have a variety of different cameras installed (e.g. front, rear, wide-angle, infrared, desk-view). The one picked by default is sometimes not the best choice. For more fine-grained control, you can select a camera by device constraints or by the device ID: ",-1)),u(l("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>d.value=i)},[(t(!0),k(B,null,D(m.value,i=>(t(),k("option",{key:i.label,value:i.constraints},F(i.label),9,z))),128))],512),[[b,d.value]])]),l("p",null,[s[3]||(s[3]=o(" Detected codes are visually highlighted in real-time. Use the following dropdown to change the flavor: ",-1)),u(l("select",{"onUpdate:modelValue":s[1]||(s[1]=i=>C.value=i)},[(t(),k(B,null,D(v,i=>l("option",{key:i.text,value:i},F(i.text),9,Q)),64))],512),[[b,C.value]])]),l("p",null,[s[4]||(s[4]=o(" By default only QR-codes are detected but a variety of other barcode formats are also supported. You can select one or multiple but the more you select the more expensive scanning becomes: ",-1)),s[5]||(s[5]=l("br",null,null,-1)),(t(!0),k(B,null,D(Object.keys(g.value),i=>(t(),k("span",{key:i,class:"barcode-format-checkbox"},[u(l("input",{type:"checkbox","onUpdate:modelValue":n=>g.value[i]=n,id:i},null,8,W),[[R,g.value[i]]]),l("label",{for:i},F(i),9,X)]))),128))]),l("p",J,F(h.value),1),l("p",L,[s[6]||(s[6]=o(" Last result: ",-1)),l("b",null,F(c.value),1)]),l("div",null,[f($(V),{constraints:d.value,track:C.value.value,formats:O.value,onError:P,onDetect:p,onCameraOn:q},null,8,["constraints","track","formats"])])]))}}),K=U(G,[["__scopeId","data-v-df3f27d7"]]),as=JSON.parse('{"title":"Full Demo","description":"","frontmatter":{},"headers":[],"relativePath":"demos/FullDemo.md","filePath":"demos/FullDemo.md","lastUpdated":1766176507000}'),Z={name:"demos/FullDemo.md"},ns=x({...Z,setup(_){return(c,p)=>{const d=j("ClientOnly");return t(),k("div",null,[p[0]||(p[0]=l("h1",{id:"full-demo",tabindex:"-1"},[o("Full Demo "),l("a",{class:"header-anchor",href:"#full-demo","aria-label":'Permalink to "Full Demo"'},"â€‹")],-1)),f(d,null,{default:Y(()=>[f(I,{component:K})]),_:1}),p[1]||(p[1]=H("",2))])}}});export{as as __pageData,ns as default};
