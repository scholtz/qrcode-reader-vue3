import{a as B,_ as v}from"./chunks/index.Dd8E0tiC.js";import{d as F,p as E,v as A,h as D,c as p,o as t,j as i,e as d,al as m,a as e,ah as f,aj as q,F as _,B as b,t as T,b as S,w as o,k as g,g as w,_ as x,C as N,G as y,ag as I}from"./chunks/framework.CYp0bhgW.js";const P=["value"],V={key:0,class:"error"},M=["disabled"],O=["src"],U=F({__name:"Torch",setup(c){const a=E(null),s=E([]);A(async()=>{s.value=(await navigator.mediaDevices.enumerateDevices()).filter(({kind:k})=>k==="videoinput"),s.value.length>0&&(a.value=s.value[0])});const n=E(!1),r=E(!1),u=D(()=>n.value?"/flash-off.svg":"/flash-on.svg");function C(k){console.log(k),r.value=!k.torch}return(k,h)=>(t(),p("div",null,[i("p",null,[h[3]||(h[3]=e(" Pick camera: ",-1)),f(i("select",{"onUpdate:modelValue":h[0]||(h[0]=l=>a.value=l)},[(t(!0),p(_,null,b(s.value,l=>(t(),p("option",{key:l.label,value:l},T(l.label),9,P))),128))],512),[[q,a.value]])]),r.value?(t(),p("p",V," Torch not supported for active camera ")):d("",!0),a.value!==null?m([n.value,a.value.deviceId],()=>(t(),S(g(B),{key:1,torch:n.value,constraints:{deviceId:a.value.deviceId},onError:console.error,onCameraOn:C},{default:o(()=>[i("button",{onClick:h[1]||(h[1]=l=>n.value=!n.value),disabled:r.value},[i("img",{src:g(w)(u.value),alt:"toggle torch"},null,8,O)],8,M)]),_:1},8,["torch","constraints","onError"])),h,2):d("",!0)]))}}),$=x(U,[["__scopeId","data-v-cf37801d"]]),J=JSON.parse('{"title":"Torch (Flashlight)","description":"","frontmatter":{},"headers":[],"relativePath":"demos/Torch.md","filePath":"demos/Torch.md","lastUpdated":1766175340000}'),j={name:"demos/Torch.md"},L=F({...j,setup(c){return(a,s)=>{const n=N("ClientOnly");return t(),p("div",null,[s[0]||(s[0]=i("h1",{id:"torch-flashlight",tabindex:"-1"},[e("Torch (Flashlight) "),i("a",{class:"header-anchor",href:"#torch-flashlight","aria-label":'Permalink to "Torch (Flashlight)"'},"â€‹")],-1)),s[1]||(s[1]=i("p",null,[e("In low-light conditions you might want to make use of the cameras flashlight. Using the "),i("code",null,"torch"),e(" prop, you can turn the flashlight on/off. Note that support is inconsistent across devices and browsers and can only be detected after already starting the camera.")],-1)),s[2]||(s[2]=i("p",null,[e("Feature sponsored by "),i("a",{href:"https://aeschbacher.ch",target:"_blank",rel:"noreferrer"},"aeschbacher.ch")],-1)),y(n,null,{default:o(()=>[y(v,{component:$})]),_:1}),s[3]||(s[3]=I("",2))])}}});export{J as __pageData,L as default};
